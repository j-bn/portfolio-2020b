brand-dark = #2c3e50
brand-neutral = #34495e
brand-web = #3498db
brand-aero = #d35400
brand-photo = #2ecc71
brand-light = #bdc3c7
brand-lighter = #ecf0f1

slide-padding = 2rem

jobs-highlight-duration = 0.3s
jobs-text-fade-duration = 0.2s
jobs-expand-duration = 0.5s
jobs-transition-duration = jobs-text-fade-duration + jobs-expand-duration
slide-fade-duration = 0.4s

job-color(prop)
	&.web
		{prop}: brand-web
		
	&.aero
		{prop}: brand-aero
		
	&.photo
		{prop}: brand-photo

*
	margin: 0
	padding: 0
	
	// Include border and padding within box sizes
	box-sizing: border-box
	
a	
	// Reset
	color: inherit
	text-decoration: none

.slide a.close-button
	opacity: 0.5
	font-size: 2.5em
	
	position: absolute
	top: slide-padding
	right: slide-padding
	
	display: block
	vertical-align: top
	
	&:hover
		opacity: 0.7
		
	&:active
		opacity: 0.9

html, body
	height: 100%
	scroll-behaviour: smooth

body
	font-family: 'Nunito', sans-serif
	background-color: brand-dark
	color: brand-lighter
	
	// Centre slide container
	display: flex
	justify-content: center
	
#slide-container
	max-width: 800px
	
	display: block
	flex-grow: 1

	// Root for slide positioning
	position: relative
	
.slide
	background-color: brand-neutral
	job-color(background-color)

	// Stack slides
	z-index: 1
	position: absolute
	top: 0
	left: 0
	right: 0

	// Sticky footer wrapper
	min-height: 100%
	display: grid
	grid-template-rows: auto
	
	// Hide by default
	opacity: 0
	
	// Transition (fade out)
	// ease in and delay to improve seamlessness
	transition: opacity slide-fade-duration ease

	> article
		padding: slide-padding
		background-color: inherit
		
		h1
			font-size: 2em

		h2
			opacity: 0.6
			
		ul.skills
			margin: 1rem 0
			list-style: none
			
			li
				display: inline-block
				margin-right: 1rem
				
		.socials
			margin-top: 1rem

			> a
				display: inline-block
				font-size: 1.5rem
				padding: 0.5rem 0.9rem
				background-color: rgba(black, 0.15)
				margin-bottom: 0.5rem
				margin-right: 0.5rem
				border-radius: 0.5rem

				overflow: hidden

				*
					vertical-align: middle

					// Match font sizes of icon and text
					font-size: inherit
					
				span
					transition: max-width 0.3s ease
					display: inline-block
					
					// Stop text from wrapping
					white-space: nowrap
						
					// Adjust for text gap around invisble span
					margin-left: -6px
					
					// Hide
					max-width: 0
					opacity: 0
				
				transition: all 0.7s ease
				&:hover
					background-color: brand-lighter
					color: brand-dark
					
					span
						opacity: 1
						
						// Extra gap after icon
						margin-left: 0.3rem
						
						// Accomodate maximum possible width
						max-width: 150px
						
	
	> footer
		// Display above slide
		z-index: 10

		// Padding added by children
		padding: 0
		
.slide.active, .slide#landing
	// Transition (fade in) with delay
	transition-delay: jobs-transition-duration

	// Show
	opacity: 1
	
.slide#landing
	z-index: 0
	
	grid-template-rows: 1fr auto

#jobs > a
	display: block

	color: white
	font-size: 1.5rem
	font-weight: bold
	text-align: left
	
	padding: 2rem slide-padding

	// Specific color
	job-color(background-color)
	
	// Transitions
	// not starting expanstion until text is faded out to avoid text stretching
	transition: padding jobs-highlight-duration ease-out,
				color jobs-text-fade-duration,
				transform jobs-expand-duration jobs-text-fade-duration

	// Hover effect
	&:hover
		padding-left: slide-padding + 1rem
		
	// Selected effect
	&.selected
		// Invisible text
		job-color(color)
		
		// Scale up without affecting layout
		transform: scaleY(15)

// Common block components

.panel
	background-color: white
	background-position: center
	background-size: cover
	padding: 1rem
	border-radius: 0.5rem
	display: block
	background-color: white
	background-size: cover
	
	text-shadow: 0 1px 1px rgba(black, 0.5)
	box-shadow: 0 0.3rem 0.5rem rgba(black, 0.3)
	
	position: relative

	&::after
		content: ""
		position: absolute
		top: 0
		bottom: 0
		left: 0
		right: 0
		background-color: rgba(black, 0.4)
		border-radius: inherit
		z-index: 1
		
	*
		// Move above background overlay
		position: relative
		z-index: 2

.tag
	padding: 0.2rem 0.5rem
	background-color: rgba(black, 0.3)
	border-radius: 0.3rem

// [TODO] Combine with .block
.masonry
	margin-top: 1.5rem

	columns: 6 200px
	column-gap: 0.7rem
	max-width: calc(100% + 5px)
	margin-left: -5px
		
	> a
		display: block
		flex: 1 1 auto
		margin-bottom: 0.4rem
		
		img
			width: 100%
			border-radius: 0.4rem
			box-shadow: 0 1px 0.6rem rgba(black, 0.3)
			background-color: white
			padding: 0.3rem

.loading
	opacity: 0.5
	
ul.projects
	list-style: none
	margin: 1rem 0
	
	> li
		@extend .panel
		
		display: flex
		flex-direction: column
		align-items: flex-start
		align-content: flex-start
		
		margin-bottom: 1rem

		position: relative

		cursor: pointer
		
		// Apply to both heading and pseudo-element
		> h3, h3::after {
			transition: all 0.2s ease
		}
		
		> h3
			position: relative
			transform: translateX(-50%) scale(1.5)
			transform-origin: top
			left: 50%
			top: 1.8rem
			font-size: 2em
				
		> h3::after
			content '\f35d'
			font-family: 'Font Awesome 5 Free'
			opacity: 0
			margin-left: 1rem
			font-size: 0.7em
			vertical-align: 10%
			
			// Stop adding to block size when hidden
			display: inline-block
			width: 0

		> h4
			// opacity: 0.8
		
		ul
			margin-top: 0.4rem
			list-style: none
			
			> li
				@extend .tag
				display: inline-block
				margin-right: 0.3rem
	
		> div
			transition: all 0.3s ease
			opacity: 0

		&:hover
			> h3
				// Reset to standard position and size
				transform: translateX(0) scale(1)
				left: 0
				top: 0
				margin-left: 0
				
			> h3::after
				opacity: 0.5

			> div
				opacity: 1
		